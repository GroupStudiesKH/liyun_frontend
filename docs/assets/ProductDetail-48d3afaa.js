import{_ as H,u as M,r as y,k as N,a as V,o as D,b as v,c as n,d as l,e as u,f as e,w as C,j as i,F as b,g as x,h as w,t as d}from"./index-e3a15d63.js";import{H as B,F as L,a as F}from"./api-service-5dcb0093.js";import{P as S}from"./ProductMenu-d669feec.js";import{c as P}from"./cart-service-4a0913f8.js";import{_ as T}from"./product_banner-64a38df3.js";const j={components:{Header:B,Footer:L,ProductMenu:S},setup(){M();const a=y([]),c=N().params.id,_=y(!1),t=y([]),{locale:m}=V(),I=async()=>{try{const o=await F.getProduct(c);a.value=o,a.value.category_id&&h(a.value.category_id)}catch(o){console.log(o)}},h=async o=>{try{const s=await F.getCategoryPath(o);t.value=s}catch(s){console.log(s)}},p=(o,s)=>{let k=s=="feature_image"?"/assets/img/product_image.png?t=202403031739":"No Data";return o.product_detail.find(r=>r.language==m.value&&r.meta_key==s).meta_value!=null&&o.product_detail.find(r=>r.language==m.value&&r.meta_key==s).meta_value!=""?o.product_detail.find(r=>r.language==m.value&&r.meta_key==s).meta_value:k},g=()=>{P.addCart({product:a.value,category:t.value}),_.value=!0},f=()=>{P.removeCart(c),_.value=!1};return D(async()=>{await I(),_.value=P.checkItemExist(c)}),{product:a,getInfo:p,categoryPath:t,locale:m,addCartItem:g,removeCartItem:f,checkCart:_}}},A={id:"product"},E=e("div",{class:"banner"},[e("img",{src:T,alt:""})],-1),R={class:"container mb-5"},O={class:"row"},q={class:"col-12 col-lg-10 list"},z={class:"row"},G={class:"col-12 route"},J=e("span",{class:"material-icons"},"",-1),Q={key:0},U={key:0,class:"row"},W={class:"col-4"},X=["src"],Y={class:"col-8"},Z={class:"title"},K={class:"subtitle"},$=e("div",{class:"col-4"},null,-1),tt={class:"col-8"},et=e("span",{class:"material-icons"},"",-1),ot=e("span",{class:"material-icons"},"",-1),at=["innerHTML"];function st(a,c,_,t,m,I){const h=v("Header"),p=v("ProductMenu"),g=v("router-link"),f=v("Footer");return n(),l(b,null,[u(h),e("main",A,[E,e("div",R,[e("div",O,[u(p),e("div",q,[e("div",z,[e("div",G,[J,u(g,{to:{name:"home"}},{default:C(()=>[i(d(a.$t("header.index")),1)]),_:1}),i(" / "),u(g,{to:{name:"product"}},{default:C(()=>[i(d(a.$t("header.product")),1)]),_:1}),t.product.category_id?(n(),l("span",Q,[(n(!0),l(b,null,x(t.categoryPath,(o,s)=>(n(),l("span",{key:s},[i(" / "),u(g,{to:`/product/category/${o.id}`},{default:C(()=>[i(d(o.get_title_attribute.find(k=>k.language==t.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])):w("",!0)])]),Object.keys(t.product).length>0?(n(),l("div",U,[e("div",W,[e("img",{src:t.getInfo(t.product,"feature_image")},null,8,X)]),e("div",Y,[e("h3",Z,d(t.getInfo(t.product,"title")),1),e("p",K,d(t.getInfo(t.product,"subtitle")),1)]),$,e("div",tt,[t.checkCart?(n(),l("div",{key:1,class:"askPrice remove",role:"button",onClick:c[1]||(c[1]=o=>t.removeCartItem())},[i(d(a.$t("product.removeAskPrice"))+" ",1),ot])):(n(),l("div",{key:0,class:"askPrice",role:"button",onClick:c[0]||(c[0]=o=>t.addCartItem())},[i(d(a.$t("product.addAskPrice"))+" ",1),et]))]),e("div",{class:"col-12 content",innerHTML:t.getInfo(t.product,"content")},null,8,at)])):w("",!0)])])])]),u(f)],64)}const dt=H(j,[["render",st]]);export{dt as default};
