import{a as w}from"./api-service-da789523.js";import{_ as x,a as S,r as B,k as N,o as P,b as V,c as o,d as a,f as c,F as d,g as p,e as h,w as v,j as b,t as u,h as q,q as F,s as I}from"./index-de83de82.js";const $={name:"ProductMenu",setup(){const{t:s,locale:g}=S(),i=B([]),t=N().query.category,f=async()=>{try{const n=await w.getAllCategory();i.value=n}catch(n){console.log(n)}};return P(()=>{f()}),{categories:i,currentCategory:t,locale:g}}},j=s=>(F("data-v-b5d1c8d8"),s=s(),I(),s),A={class:"col-12 col-lg-2 category"},D=j(()=>c("a",{class:"btn btn-primary",id:"productMenuBtn","data-bs-toggle":"collapse",href:"#productMenu",role:"button","aria-expanded":"false","aria-controls":"productMenu"}," 開啟分類選單 ",-1)),E={class:"collapse col-12 category",id:"productMenu"},L={class:"title"},R={class:"list-group list-group-flush"},T=["href","aria-controls"],z=["href"],G=["id"];function H(s,g,i,t,f,n){const m=V("router-link");return o(),a("div",A,[D,c("div",E,[(o(!0),a(d,null,p(t.categories,(_,M)=>(o(),a("div",{key:M},[c("div",L,[h(m,{to:`/product/category/${_.id}`},{default:v(()=>[b(u(_.get_title_attribute.find(e=>e.language==t.locale).meta_value),1)]),_:2},1032,["to"])]),c("ul",R,[(o(!0),a(d,null,p(_.children,(e,l)=>(o(),a("li",{class:"list-group-item",key:l},[e.children.length&&t.currentCategory==e.id?(o(),a("a",{key:0,"data-bs-toggle":"collapse",href:`#secondMenu_${l}`,role:"button","aria-expanded":"false","aria-controls":`secondMenu_${l}`},u(e.get_title_attribute.find(r=>r.language==t.locale).meta_value),9,T)):(o(),a("a",{key:1,href:`/product/category/${e.id}`},u(e.get_title_attribute.find(r=>r.language==t.locale).meta_value),9,z)),e.children.length&&(t.currentCategory==e.id||e.children.find(r=>r.id==t.currentCategory))?(o(),a("div",{key:2,class:"collapse secondMenu show",id:`secondMenu_${l}`},[c("ul",null,[(o(!0),a(d,null,p(e.children,(r,k)=>(o(),a("li",{key:k},[h(m,{to:`/product/category/${r.id}`},{default:v(()=>[b(u(r.get_title_attribute.find(y=>y.language==t.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])],8,G)):q("",!0)]))),128))])]))),128))])])}const O=x($,[["render",H],["__scopeId","data-v-b5d1c8d8"]]);export{O as P};
