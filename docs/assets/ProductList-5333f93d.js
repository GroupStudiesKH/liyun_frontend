import{_ as I,H as N,F as H,u as M,a as w,r as u,b as T,o as V,c as d,d as B,e as s,f as n,g as i,h as t,i as k,j as m,k as P,l as C,w as F,m as S,t as b,n as j}from"./index-f11edc8c.js";import{P as L,a as x,_ as R}from"./product_banner-f30e864e.js";const z={components:{Header:N,Footer:H,ProductMenu:L},setup(){M(),w();const v=u([]),c=w().params.categoryID,p=u([]),a=u(0),{locale:l}=T(),r=u({page:1,per_page:10,category:""}),_=async()=>{try{const e=await x.getProducts(r.value);r.value.page=e.current_page,r.value.perPage=e.per_page,a.value=e.last_page,v.value=e.data}catch(e){console.log(e)}},h=async e=>{try{const o=await x.getCategoryPath(e);p.value=o}catch(o){console.log(o)}},g=e=>e.get_title_attribute.find(o=>o.language==l.value).meta_value!=null?e.get_title_attribute.find(o=>o.language==l.value).meta_value:"No Title",y=e=>e.get_feature_image.find(o=>o.language==l.value).meta_value!=null?e.get_feature_image.find(o=>o.language==l.value).meta_value:"/assets/img/product_image.png",f=async e=>{r.value.page=e,await _()};return V(async()=>{c&&(r.value.category=c,await h(c)),await _()}),{products:v,locale:l,totalPage:a,params:r,changePage:f,getTitle:g,getFeatureImage:y,categoryPath:p}}},E={id:"product"},q=t("div",{class:"banner"},[t("img",{src:R,alt:""})],-1),A={class:"gray-background"},G={class:"white-rounded-background"},J={class:"container"},K={class:"row"},O={class:"col-12 col-lg-10 list"},Q={class:"row"},U={class:"col-12 route"},W=t("span",{class:"material-icons"},"",-1),X=t("a",{href:"/"},"首頁",-1),Y=t("a",{href:"/product"},"產品介紹",-1),Z={key:0},$={class:"row"},ee={class:"col-6 col-lg-3"},te={class:"feature_image"},ae={key:0,"aria-label":"Page navigation",class:"mt-5"},oe={class:"pagination justify-content-center"},se={class:"page-item"},ne=["onClick"],ce={role:"button",class:"page-link"},re={class:"page-item"};function le(v,c,p,a,l,r){const _=d("Header"),h=d("ProductMenu"),g=d("router-link"),y=d("Footer"),f=B("key");return s(),n(m,null,[i(_),t("main",E,[q,t("div",A,[t("div",G,[t("div",J,[t("div",K,[i(h),t("div",O,[t("div",Q,[t("div",U,[W,X,k(" / "),Y,a.params.category.length?(s(),n("span",Z,[(s(!0),n(m,null,P(a.categoryPath,(e,o)=>(s(),n("span",{key:o},[k(" / "),i(g,{to:`/product/category/${e.id}`},{default:F(()=>[k(b(e.get_title_attribute.find(D=>D.language==a.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])):C("",!0)])]),t("div",$,[(s(!0),n(m,null,P(a.products,(e,o)=>S((s(),n("div",ee,[i(g,{to:`/product/${e.id}`},{default:F(()=>[t("div",te,[t("div",{class:"img",style:j(`background-image: url('${a.getFeatureImage(e)}')`)},null,4)]),t("p",null,b(a.getTitle(e)),1)]),_:2},1032,["to"])])),[[f,o]])),256))]),a.totalPage>1?(s(),n("nav",ae,[t("ul",oe,[t("li",se,[t("a",{role:"button",class:"page-link",onClick:c[0]||(c[0]=e=>a.changePage(a.params.page-1))},"⟨")]),(s(!0),n(m,null,P(a.totalPage,e=>(s(),n("li",{class:"page-item",onClick:o=>a.changePage(e)},[t("a",ce,b(e),1)],8,ne))),256)),t("li",re,[t("a",{role:"button",class:"page-link",onClick:c[1]||(c[1]=e=>a.changePage(a.params.page+1))},"⟩")])])])):C("",!0)])])])])])]),i(y)],64)}const ge=I(z,[["render",le]]);export{ge as default};
