import{_ as T,u as x,k as w,r as d,a as I,o as H,b as m,c as n,d as r,e as g,f as t,j as P,F as v,g as k,h as C,w as F,t as b,l as M}from"./index-ea285267.js";import{H as V,F as B,a as N}from"./api-service-4c804a53.js";import{P as D}from"./ProductMenu-625c164e.js";import{_ as S}from"./product_banner-64a38df3.js";const j={components:{Header:V,Footer:B,ProductMenu:D},setup(){x(),w();const p=d([]),l=w().params.categoryID,h=d([]),a=d(0),{locale:c}=I(),i=d({page:1,per_page:10,category:""}),_=async()=>{try{const e=await N.getProducts(i.value);i.value.page=e.current_page,i.value.perPage=e.per_page,a.value=e.last_page,p.value=e.data}catch(e){console.log(e)}},f=async e=>{try{const o=await N.getCategoryPath(e);h.value=o}catch(o){console.log(o)}},u=e=>e.get_title_attribute.find(o=>o.language==c.value).meta_value!=null&&e.get_title_attribute.find(o=>o.language==c.value).meta_value!=""?e.get_title_attribute.find(o=>o.language==c.value).meta_value:"No Title",y=e=>e.get_feature_image.find(o=>o.language==c.value).meta_value!=null&&e.get_feature_image.find(o=>o.language==c.value).meta_value!=""?e.get_feature_image.find(o=>o.language==c.value).meta_value:"/assets/img/product_image.png",s=async e=>{i.value.page=e,await _()};return H(async()=>{l&&(i.value.category=l,await f(l)),await _()}),{products:p,locale:c,totalPage:a,params:i,changePage:s,getTitle:u,getFeatureImage:y,categoryPath:h}}},L={id:"product"},R=t("div",{class:"banner"},[t("img",{src:S,alt:""})],-1),z={class:"gray-background"},E={class:"white-rounded-background"},q={class:"container"},A={class:"row"},G={class:"col-12 col-lg-10 list"},J={class:"row"},K={class:"col-12 route"},O=t("span",{class:"material-icons"},"",-1),Q=t("a",{href:"/"},"首頁",-1),U=t("a",{href:"/product"},"產品介紹",-1),W={key:0},X={class:"row"},Y={class:"feature_image"},Z={key:0,"aria-label":"Page navigation",class:"mt-5"},$={class:"pagination justify-content-center"},ee={class:"page-item"},te=["onClick"],ae={role:"button",class:"page-link"},oe={class:"page-item"};function se(p,l,h,a,c,i){const _=m("Header"),f=m("ProductMenu"),u=m("router-link"),y=m("Footer");return n(),r(v,null,[g(_),t("main",L,[R,t("div",z,[t("div",E,[t("div",q,[t("div",A,[g(f),t("div",G,[t("div",J,[t("div",K,[O,Q,P(" / "),U,a.params.category.length?(n(),r("span",W,[(n(!0),r(v,null,k(a.categoryPath,(s,e)=>(n(),r("span",{key:e},[P(" / "),g(u,{to:`/product/category/${s.id}`},{default:F(()=>[P(b(s.get_title_attribute.find(o=>o.language==a.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])):C("",!0)])]),t("div",X,[(n(!0),r(v,null,k(a.products.filter(s=>a.getTitle(s)!="No Title"),(s,e)=>(n(),r("div",{class:"col-6 col-lg-3",key:e},[g(u,{to:`/product/${s.id}`},{default:F(()=>[t("div",Y,[t("div",{class:"img",style:M(`background-image: url('${a.getFeatureImage(s)}')`)},null,4)]),t("p",null,b(a.getTitle(s)),1)]),_:2},1032,["to"])]))),128))]),a.totalPage>1?(n(),r("nav",Z,[t("ul",$,[t("li",ee,[t("a",{role:"button",class:"page-link",onClick:l[0]||(l[0]=s=>a.changePage(a.params.page-1))},"⟨")]),(n(!0),r(v,null,k(a.totalPage,s=>(n(),r("li",{class:"page-item",onClick:e=>a.changePage(s)},[t("a",ae,b(s),1)],8,te))),256)),t("li",oe,[t("a",{role:"button",class:"page-link",onClick:l[1]||(l[1]=s=>a.changePage(a.params.page+1))},"⟩")])])])):C("",!0)])])])])])]),g(y)],64)}const ie=T(j,[["render",se]]);export{ie as default};
