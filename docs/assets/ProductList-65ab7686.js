import{_ as I,H as N,F as H,u as M,a as w,r as u,b as T,o as V,c as d,d as B,e as s,f as n,g as i,h as t,i as k,j as m,k as P,l as C,m as F,w as x,n as S,t as b,p as j}from"./index-87ebf4a6.js";import{P as L}from"./ProductMenu-bf4519b2.js";import{_ as R}from"./product_banner-64a38df3.js";const z={components:{Header:N,Footer:H,ProductMenu:L},setup(){M(),w();const v=u([]),r=w().params.categoryID,p=u([]),o=u(0),{locale:c}=T(),l=u({page:1,per_page:10,category:""}),_=async()=>{try{const e=await F.getProducts(l.value);l.value.page=e.current_page,l.value.perPage=e.per_page,o.value=e.last_page,v.value=e.data}catch(e){console.log(e)}},h=async e=>{try{const a=await F.getCategoryPath(e);p.value=a}catch(a){console.log(a)}},g=e=>e.get_title_attribute.find(a=>a.language==c.value).meta_value!=null&&e.get_title_attribute.find(a=>a.language==c.value).meta_value!=""?e.get_title_attribute.find(a=>a.language==c.value).meta_value:"No Title",f=e=>e.get_feature_image.find(a=>a.language==c.value).meta_value!=null&&e.get_feature_image.find(a=>a.language==c.value).meta_value!=""?e.get_feature_image.find(a=>a.language==c.value).meta_value:"/assets/img/product_image.png",y=async e=>{l.value.page=e,await _()};return V(async()=>{r&&(l.value.category=r,await h(r)),await _()}),{products:v,locale:c,totalPage:o,params:l,changePage:y,getTitle:g,getFeatureImage:f,categoryPath:p}}},E={id:"product"},q=t("div",{class:"banner"},[t("img",{src:R,alt:""})],-1),A={class:"gray-background"},G={class:"white-rounded-background"},J={class:"container"},K={class:"row"},O={class:"col-12 col-lg-10 list"},Q={class:"row"},U={class:"col-12 route"},W=t("span",{class:"material-icons"},"",-1),X=t("a",{href:"/"},"首頁",-1),Y=t("a",{href:"/product"},"產品介紹",-1),Z={key:0},$={class:"row"},ee={class:"col-6 col-lg-3"},te={class:"feature_image"},ae={key:0,"aria-label":"Page navigation",class:"mt-5"},oe={class:"pagination justify-content-center"},se={class:"page-item"},ne=["onClick"],re={role:"button",class:"page-link"},ce={class:"page-item"};function le(v,r,p,o,c,l){const _=d("Header"),h=d("ProductMenu"),g=d("router-link"),f=d("Footer"),y=B("key");return s(),n(m,null,[i(_),t("main",E,[q,t("div",A,[t("div",G,[t("div",J,[t("div",K,[i(h),t("div",O,[t("div",Q,[t("div",U,[W,X,k(" / "),Y,o.params.category.length?(s(),n("span",Z,[(s(!0),n(m,null,P(o.categoryPath,(e,a)=>(s(),n("span",{key:a},[k(" / "),i(g,{to:`/product/category/${e.id}`},{default:x(()=>[k(b(e.get_title_attribute.find(D=>D.language==o.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])):C("",!0)])]),t("div",$,[(s(!0),n(m,null,P(o.products,(e,a)=>S((s(),n("div",ee,[i(g,{to:`/product/${e.id}`},{default:x(()=>[t("div",te,[t("div",{class:"img",style:j(`background-image: url('${o.getFeatureImage(e)}')`)},null,4)]),t("p",null,b(o.getTitle(e)),1)]),_:2},1032,["to"])])),[[y,a]])),256))]),o.totalPage>1?(s(),n("nav",ae,[t("ul",oe,[t("li",se,[t("a",{role:"button",class:"page-link",onClick:r[0]||(r[0]=e=>o.changePage(o.params.page-1))},"⟨")]),(s(!0),n(m,null,P(o.totalPage,e=>(s(),n("li",{class:"page-item",onClick:a=>o.changePage(e)},[t("a",re,b(e),1)],8,ne))),256)),t("li",ce,[t("a",{role:"button",class:"page-link",onClick:r[1]||(r[1]=e=>o.changePage(o.params.page+1))},"⟩")])])])):C("",!0)])])])])])]),i(f)],64)}const ue=I(z,[["render",le]]);export{ue as default};
