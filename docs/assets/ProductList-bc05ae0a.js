import{_ as F,H as T,F as N,u as x,a as H,r as l,o as M,b as y,c as V,d as n,e as r,f,g as e,h as b,i as u,j as P,k as w,t as k,w as q,n as z}from"./index-8d0f20f2.js";import{P as B,a as C,_ as D}from"./product_banner-ea8def16.js";const L={components:{Header:T,Footer:N,ProductMenu:B},setup(){x();const g=H(),c=l([]),d=l([]),a=l("zh_TW"),h=l(0),i=l({page:1,per_page:10,category:""}),_=async()=>{try{const t=await C.getProducts(i.value);i.value.page=t.current_page,i.value.perPage=t.per_page,h.value=t.last_page,c.value=t.data}catch(t){console.log(t)}},m=async t=>{try{const s=await C.getCategoryPath(t);d.value=s}catch(s){console.log(s)}},v=t=>t.get_title_attribute.find(s=>s.language==a.value).meta_value.length>0?t.get_title_attribute.find(s=>s.language==a.value).meta_value:"No Title",p=t=>t.get_feature_image.find(s=>s.language==a.value).meta_value.length>0?t.get_feature_image.find(s=>s.language==a.value).meta_value:"/assets/img/product_image.png",o=async t=>{i.value.page=t,await _()};return M(async()=>{g.query.category&&(i.value.category=g.query.category,await m(g.query.category)),await _()}),{products:c,currentLang:a,totalPage:h,params:i,changePage:o,getTitle:v,getFeatureImage:p,categoryPath:d}}},S={id:"product"},j=e("div",{class:"banner"},[e("img",{src:D,alt:""})],-1),I={class:"gray-background"},R={class:"white-rounded-background"},W={class:"container"},E={class:"row"},A={class:"col-12 col-lg-10 list"},G={class:"row"},J={class:"col-12 route"},K=e("span",{class:"material-icons"},"",-1),O=e("a",{href:"/"},"首頁",-1),Q=e("a",{href:"/product"},"產品介紹",-1),U={key:0},X=["href"],Y={class:"row"},Z={class:"col-6 col-lg-3"},$=["href"],ee={class:"feature_image"},te={key:0,"aria-label":"Page navigation",class:"mt-5"},ae={class:"pagination justify-content-center"},oe={class:"page-item"},se=["onClick"],ne={role:"button",class:"page-link"},re={class:"page-item"};function ce(g,c,d,a,h,i){const _=y("Header"),m=y("ProductMenu"),v=y("Footer"),p=V("key");return n(),r(u,null,[f(_),e("main",S,[j,e("div",I,[e("div",R,[e("div",W,[e("div",E,[f(m),e("div",A,[e("div",G,[e("div",J,[K,O,b(" / "),Q,a.params.category.length?(n(),r("span",U,[(n(!0),r(u,null,P(a.categoryPath,(o,t)=>(n(),r("span",{key:t},[b(" / "),e("a",{href:`/product?category=${o.id}`},k(o.get_title_attribute.find(s=>s.language=="zh_TW").meta_value),9,X)]))),128))])):w("",!0)])]),e("div",Y,[(n(!0),r(u,null,P(a.products,(o,t)=>q((n(),r("div",Z,[e("a",{href:`product/${o.id}`},[e("div",ee,[e("div",{class:"img",style:z(`background-image: url('${a.getFeatureImage(o)}')`)},null,4)]),e("p",null,k(a.getTitle(o)),1)],8,$)])),[[p,t]])),256))]),a.totalPage>1?(n(),r("nav",te,[e("ul",ae,[e("li",oe,[e("a",{role:"button",class:"page-link",onClick:c[0]||(c[0]=o=>a.changePage(a.params.page-1))},"上一頁")]),(n(!0),r(u,null,P(a.totalPage,o=>(n(),r("li",{class:"page-item",onClick:t=>a.changePage(o)},[e("a",ne,k(o),1)],8,se))),256)),e("li",re,[e("a",{role:"button",class:"page-link",onClick:c[1]||(c[1]=o=>a.changePage(a.params.page+1))},"下一頁")])])])):w("",!0)])])])])])]),f(v)],64)}const ge=F(L,[["render",ce]]);export{ge as default};
