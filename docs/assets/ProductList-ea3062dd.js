import{_ as F,H as N,F as x,u as H,a as M,r as u,b as T,o as V,c as y,d as q,e as n,f as r,g as f,h as e,i as b,j as d,k as P,l as w,t as k,w as B,n as D}from"./index-eb171b40.js";import{P as I,a as C,_ as S}from"./product_banner-dadb294b.js";const j={components:{Header:N,Footer:x,ProductMenu:I},setup(){H();const g=M(),c=u([]),h=u([]),a=u(0),{locale:i}=T(),l=u({page:1,per_page:10,category:""}),_=async()=>{try{const t=await C.getProducts(l.value);l.value.page=t.current_page,l.value.perPage=t.per_page,a.value=t.last_page,c.value=t.data}catch(t){console.log(t)}},m=async t=>{try{const s=await C.getCategoryPath(t);h.value=s}catch(s){console.log(s)}},v=t=>t.get_title_attribute.find(s=>s.language==i.value).meta_value!=null?t.get_title_attribute.find(s=>s.language==i.value).meta_value:"No Title",p=t=>t.get_feature_image.find(s=>s.language==i.value).meta_value!=null?t.get_feature_image.find(s=>s.language==i.value).meta_value:"/assets/img/product_image.png",o=async t=>{l.value.page=t,await _()};return V(async()=>{g.query.category&&(l.value.category=g.query.category,await m(g.query.category)),await _()}),{products:c,locale:i,totalPage:a,params:l,changePage:o,getTitle:v,getFeatureImage:p,categoryPath:h}}},L={id:"product"},R=e("div",{class:"banner"},[e("img",{src:S,alt:""})],-1),z={class:"gray-background"},E={class:"white-rounded-background"},A={class:"container"},G={class:"row"},J={class:"col-12 col-lg-10 list"},K={class:"row"},O={class:"col-12 route"},Q=e("span",{class:"material-icons"},"",-1),U=e("a",{href:"/"},"首頁",-1),W=e("a",{href:"/product"},"產品介紹",-1),X={key:0},Y=["href"],Z={class:"row"},$={class:"col-6 col-lg-3"},ee=["href"],te={class:"feature_image"},ae={key:0,"aria-label":"Page navigation",class:"mt-5"},oe={class:"pagination justify-content-center"},se={class:"page-item"},ne=["onClick"],re={role:"button",class:"page-link"},ce={class:"page-item"};function le(g,c,h,a,i,l){const _=y("Header"),m=y("ProductMenu"),v=y("Footer"),p=q("key");return n(),r(d,null,[f(_),e("main",L,[R,e("div",z,[e("div",E,[e("div",A,[e("div",G,[f(m),e("div",J,[e("div",K,[e("div",O,[Q,U,b(" / "),W,a.params.category.length?(n(),r("span",X,[(n(!0),r(d,null,P(a.categoryPath,(o,t)=>(n(),r("span",{key:t},[b(" / "),e("a",{href:`/product?category=${o.id}`},k(o.get_title_attribute.find(s=>s.language==a.locale).meta_value),9,Y)]))),128))])):w("",!0)])]),e("div",Z,[(n(!0),r(d,null,P(a.products,(o,t)=>B((n(),r("div",$,[e("a",{href:`product/${o.id}`},[e("div",te,[e("div",{class:"img",style:D(`background-image: url('${a.getFeatureImage(o)}')`)},null,4)]),e("p",null,k(a.getTitle(o)),1)],8,ee)])),[[p,t]])),256))]),a.totalPage>1?(n(),r("nav",ae,[e("ul",oe,[e("li",se,[e("a",{role:"button",class:"page-link",onClick:c[0]||(c[0]=o=>a.changePage(a.params.page-1))},"⟨")]),(n(!0),r(d,null,P(a.totalPage,o=>(n(),r("li",{class:"page-item",onClick:t=>a.changePage(o)},[e("a",re,k(o),1)],8,ne))),256)),e("li",ce,[e("a",{role:"button",class:"page-link",onClick:c[1]||(c[1]=o=>a.changePage(a.params.page+1))},"⟩")])])])):w("",!0)])])])])])]),f(v)],64)}const _e=F(j,[["render",le]]);export{_e as default};
