import{_ as T,u as I,k as C,r as v,a as x,o as H,b as p,c as n,d as r,e as g,f as t,w as b,j as h,t as d,F as f,g as w,h as F,l as M}from"./index-489338fc.js";import{H as V,F as B,a as N}from"./api-service-98f27ea7.js";import{P as D}from"./ProductMenu-59d6b0cf.js";import{_ as S}from"./product_banner-64a38df3.js";const j={components:{Header:V,Footer:B,ProductMenu:D},setup(){I(),C();const u=v([]),l=C().params.categoryID,y=v([]),a=v(0),{locale:c}=x(),i=v({page:1,per_page:10,category:""}),m=async()=>{try{const e=await N.getProducts(i.value);i.value.page=e.current_page,i.value.perPage=e.per_page,a.value=e.last_page,u.value=e.data}catch(e){console.log(e)}},P=async e=>{try{const o=await N.getCategoryPath(e);y.value=o}catch(o){console.log(o)}},_=e=>e.get_title_attribute.find(o=>o.language==c.value).meta_value!=null&&e.get_title_attribute.find(o=>o.language==c.value).meta_value!=""?e.get_title_attribute.find(o=>o.language==c.value).meta_value:"No Title",k=e=>e.get_feature_image.find(o=>o.language==c.value).meta_value!=null&&e.get_feature_image.find(o=>o.language==c.value).meta_value!=""?e.get_feature_image.find(o=>o.language==c.value).meta_value:"/assets/img/product_image.png",s=async e=>{i.value.page=e,await m()};return H(async()=>{l&&(i.value.category=l,await P(l)),await m()}),{products:u,locale:c,totalPage:a,params:i,changePage:s,getTitle:_,getFeatureImage:k,categoryPath:y}}},L={id:"product"},R=t("div",{class:"banner"},[t("img",{src:S,alt:""})],-1),z={class:"gray-background"},E={class:"white-rounded-background"},q={class:"container"},A={class:"row"},G={class:"col-12 col-lg-10 list"},J={class:"row"},K={class:"col-12 route"},O=t("span",{class:"material-icons"},"",-1),Q={href:"/product"},U={key:0},W={class:"row"},X={class:"feature_image"},Y={key:0,"aria-label":"Page navigation",class:"mt-5"},Z={class:"pagination justify-content-center"},$={class:"page-item"},ee=["onClick"],te={role:"button",class:"page-link"},ae={class:"page-item"};function oe(u,l,y,a,c,i){const m=p("Header"),P=p("ProductMenu"),_=p("router-link"),k=p("Footer");return n(),r(f,null,[g(m),t("main",L,[R,t("div",z,[t("div",E,[t("div",q,[t("div",A,[g(P),t("div",G,[t("div",J,[t("div",K,[O,g(_,{to:{name:"home"}},{default:b(()=>[h(d(u.$t("header.index")),1)]),_:1}),h(" / "),t("a",Q,d(u.$t("header.product")),1),a.params.category.length?(n(),r("span",U,[(n(!0),r(f,null,w(a.categoryPath,(s,e)=>(n(),r("span",{key:e},[h(" / "),g(_,{to:`/product/category/${s.id}`},{default:b(()=>[h(d(s.get_title_attribute.find(o=>o.language==a.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])):F("",!0)])]),t("div",W,[(n(!0),r(f,null,w(a.products.filter(s=>a.getTitle(s)!="No Title"),(s,e)=>(n(),r("div",{class:"col-6 col-lg-3",key:e},[g(_,{to:`/product/${s.id}`},{default:b(()=>[t("div",X,[t("div",{class:"img",style:M(`background-image: url('${a.getFeatureImage(s)}')`)},null,4)]),t("p",null,d(a.getTitle(s)),1)]),_:2},1032,["to"])]))),128))]),a.totalPage>1?(n(),r("nav",Y,[t("ul",Z,[t("li",$,[t("a",{role:"button",class:"page-link",onClick:l[0]||(l[0]=s=>a.changePage(a.params.page-1))},"⟨")]),(n(!0),r(f,null,w(a.totalPage,s=>(n(),r("li",{class:"page-item",onClick:e=>a.changePage(s)},[t("a",te,d(s),1)],8,ee))),256)),t("li",ae,[t("a",{role:"button",class:"page-link",onClick:l[1]||(l[1]=s=>a.changePage(a.params.page+1))},"⟩")])])])):F("",!0)])])])])])]),g(k)],64)}const ce=T(j,[["render",oe]]);export{ce as default};
