import{_ as w,b as x,r as S,a as B,o as N,c as P,e as o,f as a,h as c,j as d,k as p,g as m,w as v,t as u,l as V,m as I,i as b,s as $,v as j}from"./index-204fc82a.js";const q={name:"ProductMenu",setup(){const{t:s,locale:g}=x(),i=S([]),t=B().query.category,f=async()=>{try{const n=await I.getAllCategory();i.value=n}catch(n){console.log(n)}};return N(()=>{f()}),{categories:i,currentCategory:t,locale:g}}},A=s=>($("data-v-b5d1c8d8"),s=s(),j(),s),D={class:"col-12 col-lg-2 category"},E=A(()=>c("a",{class:"btn btn-primary",id:"productMenuBtn","data-bs-toggle":"collapse",href:"#productMenu",role:"button","aria-expanded":"false","aria-controls":"productMenu"}," 開啟分類選單 ",-1)),F={class:"collapse col-12 category",id:"productMenu"},L={class:"title"},R={class:"list-group list-group-flush"},T=["href","aria-controls"],z=["href"],G=["id"];function H(s,g,i,t,f,n){const h=P("router-link");return o(),a("div",D,[E,c("div",F,[(o(!0),a(d,null,p(t.categories,(_,M)=>(o(),a("div",{key:M},[c("div",L,[m(h,{to:`/product/category/${_.id}`},{default:v(()=>[b(u(_.get_title_attribute.find(e=>e.language==t.locale).meta_value),1)]),_:2},1032,["to"])]),c("ul",R,[(o(!0),a(d,null,p(_.children,(e,l)=>(o(),a("li",{class:"list-group-item",key:l},[e.children.length&&t.currentCategory==e.id?(o(),a("a",{key:0,"data-bs-toggle":"collapse",href:`#secondMenu_${l}`,role:"button","aria-expanded":"false","aria-controls":`secondMenu_${l}`},u(e.get_title_attribute.find(r=>r.language==t.locale).meta_value),9,T)):(o(),a("a",{key:1,href:`/product/category/${e.id}`},u(e.get_title_attribute.find(r=>r.language==t.locale).meta_value),9,z)),e.children.length&&(t.currentCategory==e.id||e.children.find(r=>r.id==t.currentCategory))?(o(),a("div",{key:2,class:"collapse secondMenu show",id:`secondMenu_${l}`},[c("ul",null,[(o(!0),a(d,null,p(e.children,(r,k)=>(o(),a("li",{key:k},[m(h,{to:`/product/category/${r.id}`},{default:v(()=>[b(u(r.get_title_attribute.find(y=>y.language==t.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])],8,G)):V("",!0)]))),128))])]))),128))])])}const K=w(q,[["render",H],["__scopeId","data-v-b5d1c8d8"]]);export{K as P};
