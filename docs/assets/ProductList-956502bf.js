import{_ as F,H as T,F as N,u as x,a as H,r as l,o as M,b as y,c as V,d as n,e as r,f,g as e,h as b,i as u,j as P,k as w,t as k,w as q}from"./index-6da7d99a.js";import{P as B,a as C,_ as D}from"./product_banner-eac315fb.js";const L={components:{Header:T,Footer:N,ProductMenu:B},setup(){x();const _=H(),c=l([]),d=l([]),a=l("zh_TW"),h=l(0),i=l({page:1,per_page:10,category:""}),g=async()=>{try{const t=await C.getProducts(i.value);i.value.page=t.current_page,i.value.perPage=t.per_page,h.value=t.last_page,c.value=t.data}catch(t){console.log(t)}},v=async t=>{try{const s=await C.getCategoryPath(t);d.value=s}catch(s){console.log(s)}},m=t=>t.get_title_attribute.find(s=>s.language==a.value).meta_value.length>0?t.get_title_attribute.find(s=>s.language==a.value).meta_value:"No Title",p=t=>t.get_feature_image.find(s=>s.language==a.value).meta_value.length>0?t.get_feature_image.find(s=>s.language==a.value).meta_value:"/assets/img/product_image.png",o=async t=>{i.value.page=t,await g()};return M(async()=>{_.query.category&&(i.value.category=_.query.category,await v(_.query.category)),await g()}),{products:c,currentLang:a,totalPage:h,params:i,changePage:o,getTitle:m,getFeatureImage:p,categoryPath:d}}},z={id:"product"},I=e("div",{class:"banner"},[e("img",{src:D,alt:""})],-1),R={class:"gray-background"},S={class:"white-rounded-background"},W={class:"container"},j={class:"row"},E={class:"col-12 col-lg-10 list"},A={class:"row"},G={class:"col-12 route"},J=e("span",{class:"material-icons"},"",-1),K=e("a",{href:"/"},"首頁",-1),O=e("a",{href:"/product"},"產品介紹",-1),Q={key:0},U=["href"],X={class:"row"},Y={class:"col-6 col-lg-3"},Z=["href"],$={class:"feature_image"},ee=["src"],te={key:0,"aria-label":"Page navigation"},ae={class:"pagination"},oe={class:"page-item"},se=["onClick"],ne={role:"button",class:"page-link"},re={class:"page-item"};function ce(_,c,d,a,h,i){const g=y("Header"),v=y("ProductMenu"),m=y("Footer"),p=V("key");return n(),r(u,null,[f(g),e("main",z,[I,e("div",R,[e("div",S,[e("div",W,[e("div",j,[f(v),e("div",E,[e("div",A,[e("div",G,[J,K,b(" / "),O,a.params.category.length?(n(),r("span",Q,[(n(!0),r(u,null,P(a.categoryPath,(o,t)=>(n(),r("span",{key:t},[b(" / "),e("a",{href:`/product?category=${o.id}`},k(o.get_title_attribute.find(s=>s.language=="zh_TW").meta_value),9,U)]))),128))])):w("",!0)])]),e("div",X,[(n(!0),r(u,null,P(a.products,(o,t)=>q((n(),r("div",Y,[e("a",{href:`product/${o.id}`},[e("div",$,[e("img",{src:a.getFeatureImage(o)},null,8,ee)]),e("p",null,k(a.getTitle(o)),1)],8,Z)])),[[p,t]])),256))]),a.totalPage>1?(n(),r("nav",te,[e("ul",ae,[e("li",oe,[e("a",{role:"button",class:"page-link",onClick:c[0]||(c[0]=o=>a.changePage(a.params.page-1))},"上一頁")]),(n(!0),r(u,null,P(a.totalPage,o=>(n(),r("li",{class:"page-item",onClick:t=>a.changePage(o)},[e("a",ne,k(o),1)],8,se))),256)),e("li",re,[e("a",{role:"button",class:"page-link",onClick:c[1]||(c[1]=o=>a.changePage(a.params.page+1))},"下一頁")])])])):w("",!0)])])])])])]),f(m)],64)}const _e=F(L,[["render",ce]]);export{_e as default};
